<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Usage Guide - Global Kaido Map</title>
  <style>
    :root { --primary: #0066cc; --bg: #f4f7f6; --text: #333; --card-bg: #ffffff; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; line-height: 1.6; }
    .container { max-width: 600px; margin: 0 auto; padding-bottom: 40px; }
    
    h1 { text-align: center; color: var(--primary); margin-bottom: 20px; font-size: 24px; }
    
    .card { background: var(--card-bg); border-radius: 12px; padding: 20px; margin-bottom: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
    
    /* ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
    .card h2 { margin-top: 0; font-size: 18px; border-bottom: 2px solid #eee; padding-bottom: 8px; color: var(--primary); align-items: center; gap: 8px; }
    
    .icon { font-size: 24px; }
    p { margin: 8px 0; font-size: 14px; color: #555; }
    
    .tag { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold; color: white; vertical-align: middle; }
    .tag-red { background: #cc0000; }
    .tag-blue { background: #0066cc; }
    .tag-purple { background: #8e44ad; }
    
    ul { padding-left: 20px; margin: 8px 0; font-size: 14px; color: #555; }
    li { margin-bottom: 6px; }

    .btn-close { display: block; width: 100%; max-width: 200px; margin: 30px auto 0; padding: 12px; background: #333; color: white; text-align: center; border: none; border-radius: 50px; text-decoration: none; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
    .btn-close:hover { background: #555; }

    /* è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ */
    .lang-switch { text-align: right; margin-bottom: 10px; }
    .lang-switch button { background: white; border: 1px solid #ccc; padding: 6px 12px; border-radius: 20px; cursor: pointer; color: #666; font-size: 12px; font-weight: bold; }

    /* â˜…â˜…â˜… ä¿®æ­£ç®‡æ‰€ï¼šç¢ºå®Ÿã«éš ã™ãŸã‚ã« !important ã‚’è¿½åŠ  â˜…â˜…â˜… */
    [data-lang-content="ja"], [data-lang-content="en"] { display: none !important; }
    
    /* è¡¨ç¤ºã™ã‚‹ã¨ãã¯ flex (ã‚¢ã‚¤ã‚³ãƒ³æ¨ªä¸¦ã³ç”¨) ã«ã™ã‚‹ */
    body.lang-ja [data-lang-content="ja"] { display: flex !important; }
    body.lang-en [data-lang-content="en"] { display: flex !important; }
    
    /* h1ãªã©ã®ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ç”¨ */
    body.lang-ja h1[data-lang-content="ja"], 
    body.lang-ja div[data-lang-content="ja"],
    body.lang-ja p[data-lang-content="ja"],
    body.lang-ja span[data-lang-content="ja"] { display: block !important; }

    body.lang-en h1[data-lang-content="en"], 
    body.lang-en div[data-lang-content="en"],
    body.lang-en p[data-lang-content="en"],
    body.lang-en span[data-lang-content="en"] { display: block !important; }

  </style>
</head>
<body class="lang-ja"> <div class="container">
  
  <div class="lang-switch">
    <button onclick="toggleLang()">ğŸŒ English / æ—¥æœ¬èª</button>
  </div>

  <h1 data-lang-content="ja">ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</h1>
  <h1 data-lang-content="en">User Guide</h1>

  <div class="card" style="border-left: 5px solid #8e44ad;">
    <h2 data-lang-content="ja" style="color: #8e44ad;"><span class="icon">ğŸ¤–</span> AIæ­´å²ã‚¬ã‚¤ãƒ‰ãƒ»ä¾ã®ç›®</h2>
    <h2 data-lang-content="en" style="color: #8e44ad;"><span class="icon">ğŸ¤–</span> AI Samurai Guide</h2>
    
    <div data-lang-content="ja">
      <p>æœ€æ–°ã®AI <span class="tag tag-purple">Gemini</span> ãŒã‚ãªãŸã®æ—…ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
      <ul>
        <li><strong>ğŸ“ æ­´å²ã‚¬ã‚¤ãƒ‰ (GPS):</strong> ç¾åœ¨åœ°ã®æ­´å²ã‚„ã€æ±Ÿæˆ¸æ™‚ä»£ã®å®¿å ´ç”ºã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’AIãŒè§£èª¬ã—ã¾ã™ã€‚ã€Œæ˜”ã®æ—…äººã€ã«ãªã£ãŸæ°—åˆ†ã§æ¥½ã—ã‚ã¾ã™ã€‚</li>
        <li><strong>ğŸ“· ä¾ã®ç›® (ç”»åƒ):</strong> è¡—é“ã®å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€AIãŒãã®é¢¨æ™¯ã‚’è§£æã—ã€æ­´å²çš„ãªèƒŒæ™¯ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚</li>
      </ul>
      <p><small>â€»AIæ©Ÿèƒ½ã«ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒå¿…è¦ã§ã™ã€‚</small></p>
    </div>
    <div data-lang-content="en">
      <p>Powered by <span class="tag tag-purple">Gemini</span> AI to enhance your journey.</p>
      <ul>
        <li><strong>ğŸ“ History Guide (GPS):</strong> The AI explains the history of your current location, focusing on the Edo period context.</li>
        <li><strong>ğŸ“· Samurai Eye (Image):</strong> Upload a photo of the scenery, and the AI will analyze it to provide historical context.</li>
      </ul>
      <p><small>* Internet connection is required for AI features.</small></p>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">ğŸ—ºï¸</span> è¡—é“ã‚’æ¢ã™</h2>
    <h2 data-lang-content="en"><span class="icon">ğŸ—ºï¸</span> Find Routes</h2>
    
    <div data-lang-content="ja">
      <p>ç”»é¢ä¸‹ã®ã€Œæ¢ã™ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ä¸–ç•Œä¸­ã®è¡—é“ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
      <ul>
        <li>æ­©ããŸã„è¡—é“ã‚’é¸ã¶ã¨ã€åœ°å›³ä¸Šã« <span class="tag tag-red">èµ¤ç·š</span> ã§ãƒ«ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</li>
        <li>ç¾åœ¨åœ°ãƒœã‚¿ãƒ³ã€Œâ—ã€ã‚’æŠ¼ã™ã¨ã€è‡ªåˆ†ã®ä½ç½®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>Tap the "Routes" button at the bottom to explore trails.</p>
      <ul>
        <li>Select a route to see the <span class="tag tag-red">Red Line</span> on the map.</li>
        <li>Tap the "â—" button to show your current location.</li>
      </ul>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">âºï¸</span> è¨˜éŒ²ã™ã‚‹ (GPS)</h2>
    <h2 data-lang-content="en"><span class="icon">âºï¸</span> Record (GPS)</h2>

    <div data-lang-content="ja">
      <p>ã‚ãªãŸã®æ­©ã„ãŸè»Œè·¡ã‚’è¨˜éŒ²ã§ãã¾ã™ã€‚</p>
      <ul>
        <li>ã€Œè¨˜éŒ²ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œè¨˜éŒ²é–‹å§‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚</li>
        <li>æ­©ã„ãŸé“ãŒ <span class="tag tag-blue">é’ç·š</span> ã§åœ°å›³ã«æã‹ã‚Œã¾ã™ã€‚</li>
        <li>ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‚‚è¨˜éŒ²ã¯ä¿å­˜ã•ã‚Œã¾ã™ãŒã€é•·æ™‚é–“ã®è¨˜éŒ²æ™‚ã¯ç”»é¢ã‚’æ¶ˆã•ãªã„ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ï¼ˆè¨­å®šã§ã€Œç”»é¢å¸¸æ™‚ç‚¹ç¯ã€å¯èƒ½ï¼‰ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>You can record your own walking path.</p>
      <ul>
        <li>Go to the "Record" menu and tap "Start".</li>
        <li>Your track will be drawn as a <span class="tag tag-blue">Blue Line</span>.</li>
        <li>Recording works in the background, but keeping the screen on (via Settings) is recommended for long treks.</li>
      </ul>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">ğŸ’¾</span> ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»èª­è¾¼</h2>
    <h2 data-lang-content="en"><span class="icon">ğŸ’¾</span> Save & Load Data</h2>

    <div data-lang-content="ja">
      <p>è¨˜éŒ²ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯ã”è‡ªèº«ã®ç®¡ç†ä¸‹ã«ã‚ã‚Šã¾ã™ã€‚</p>
      <ul>
        <li><strong>GPXãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:</strong> è¨˜éŒ²ã—ãŸè»Œè·¡ã‚’ãƒ•ã‚¡ã‚¤ãƒ«(.gpx)ã¨ã—ã¦ã‚¹ãƒãƒ›ã‚„PCã«ä¿å­˜ã§ãã¾ã™ã€‚</li>
        <li><strong>GPXèª­è¾¼:</strong> éå»ã®ãƒ­ã‚°ã‚„ã€ä»–ã®ã‚¢ãƒ—ãƒªã§ä½œã£ãŸãƒ«ãƒ¼ãƒˆã‚’åœ°å›³ä¸Šã«è¡¨ç¤ºã§ãã¾ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>Your data belongs to you.</p>
      <ul>
        <li><strong>Download GPX:</strong> Save your recorded track as a .gpx file to your device.</li>
        <li><strong>Import GPX:</strong> Load past logs or external route files to view them on this map.</li>
      </ul>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">ğŸ“</span> å ±å‘Šæ©Ÿèƒ½</h2>
    <h2 data-lang-content="en"><span class="icon">ğŸ“</span> Report</h2>

    <div data-lang-content="ja">
      <p>è¡—é“ã®çŠ¶æ³ï¼ˆé€šè¡Œæ­¢ã‚ã€ç´ æ™´ã‚‰ã—ã„æ™¯è‰²ã€ãƒˆã‚¤ãƒ¬ã®å ´æ‰€ãªã©ï¼‰ã‚’å ±å‘Šãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰é€ä¿¡ã§ãã¾ã™ã€‚ä½ç½®æƒ…å ±ãŒè‡ªå‹•çš„ã«æ·»ä»˜ã•ã‚Œã¾ã™ã€‚</p>
    </div>
    <div data-lang-content="en">
      <p>Use the "Report" feature to send updates about road conditions, scenery, or facilities. Your location is attached automatically.</p>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">âš™ï¸</span> è¨­å®š</h2>
    <h2 data-lang-content="en"><span class="icon">âš™ï¸</span> Settings</h2>

    <div data-lang-content="ja">
      <ul>
        <li><strong>è¨€èª:</strong> æ—¥æœ¬èªã¨è‹±èªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚</li>
        <li><strong>ç”»é¢å¸¸æ™‚ç‚¹ç¯:</strong> è¨˜éŒ²ä¸­ã«ã‚¹ãƒãƒ›ãŒã‚¹ãƒªãƒ¼ãƒ—ã™ã‚‹ã®ã‚’é˜²ãã¾ã™ï¼ˆãƒãƒƒãƒ†ãƒªãƒ¼æ¶ˆè²»ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼‰ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <ul>
        <li><strong>Language:</strong> Switch between Japanese and English.</li>
        <li><strong>Keep Screen On:</strong> Prevents the phone from sleeping while recording (Note: consumes more battery).</li>
      </ul>
    </div>
  </div>

  <a href="#" onclick="window.close()" class="btn-close">
    <span data-lang-content="ja">é–‰ã˜ã‚‹</span>
    <span data-lang-content="en">Close</span>
  </a>
</div>

<script>
  const STORAGE_KEY = 'kaido_lang';

  function applyLanguage(lang) {
    document.body.classList.remove('lang-ja', 'lang-en');
    document.body.classList.add('lang-' + lang);
    document.documentElement.lang = lang;
  }

  function toggleLang() {
    const current = document.body.classList.contains('lang-ja') ? 'ja' : 'en';
    const next = current === 'ja' ? 'en' : 'ja';
    applyLanguage(next);
    localStorage.setItem(STORAGE_KEY, next);
  }

  (function init() {
    const savedLang = localStorage.getItem(STORAGE_KEY);
    if (savedLang === 'en') {
      applyLanguage('en');
    } else {
      applyLanguage('ja');
    }
  })();
</script>

</body>
</html>