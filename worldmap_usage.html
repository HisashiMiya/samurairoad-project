<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Usage Guide - Global Kaido Map</title>
  <style>
    :root { --primary: #0066cc; --bg: #f4f7f6; --text: #333; --card-bg: #ffffff; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; line-height: 1.6; }
    .container { max-width: 600px; margin: 0 auto; padding-bottom: 40px; }
    
    h1 { text-align: center; color: var(--primary); margin-bottom: 20px; font-size: 24px; }
    
    .card { background: var(--card-bg); border-radius: 12px; padding: 20px; margin-bottom: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
    
    /* ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
    .card h2 { margin-top: 0; font-size: 18px; border-bottom: 2px solid #eee; padding-bottom: 8px; color: var(--primary); align-items: center; gap: 8px; }
    
    .icon { font-size: 24px; }
    p { margin: 8px 0; font-size: 14px; color: #555; }
    
    .tag { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold; color: white; vertical-align: middle; }
    .tag-red { background: #cc0000; }
    .tag-blue { background: #0066cc; }
    .tag-purple { background: #8e44ad; }
    .tag-green { background: #33cc33; }
    .tag-pink { background: #cc0066; }
    .tag-orange { background: #cc6600; }
    
    ul { padding-left: 20px; margin: 8px 0; font-size: 14px; color: #555; }
    li { margin-bottom: 6px; }

    .btn-close { display: block; width: 100%; max-width: 200px; margin: 30px auto 0; padding: 12px; background: #333; color: white; text-align: center; border: none; border-radius: 50px; text-decoration: none; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
    .btn-close:hover { background: #555; }

    /* è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ */
    .lang-switch { text-align: right; margin-bottom: 10px; }
    .lang-switch button { background: white; border: 1px solid #ccc; padding: 6px 12px; border-radius: 20px; cursor: pointer; color: #666; font-size: 12px; font-weight: bold; }

    /* è¨€èªè¡¨ç¤ºåˆ¶å¾¡ */
    [data-lang-content] { display: none !important; }
    body.lang-ja [data-lang-content="ja"] { display: block !important; }
    body.lang-en [data-lang-content="en"] { display: block !important; }
    /* ç‰¹å®šã®ã‚¿ã‚°ã«å¯¾ã™ã‚‹flexè£œæ­£ */
    body.lang-ja div[data-lang-content="ja"] { display: block !important; }
    body.lang-ja h1[data-lang-content="ja"], body.lang-ja h2[data-lang-content="ja"] { display: block !important; }
    
  </style>
</head>
<body class="lang-ja"> <div class="container">
  
  <div class="lang-switch">
    <button onclick="toggleLang()">ğŸŒ English / æ—¥æœ¬èª</button>
  </div>

  <h1 data-lang-content="ja">Samurai World Map (SWM) ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</h1>
  <h1 data-lang-content="en">Samurai World Map (SWM) User Guide</h1>

  <div class="card" style="border-left: 5px solid #8e44ad;">
    <h2 data-lang-content="ja" style="color: #8e44ad;"><span class="icon">ğŸ¤–</span> AIã‚¬ã‚¤ãƒ‰æ©Ÿèƒ½</h2>
    <h2 data-lang-content="en" style="color: #8e44ad;"><span class="icon">ğŸ¤–</span> AI Guide Features</h2>
    
    <div data-lang-content="ja">
      <p>æœ€æ–°ã®AI <span class="tag tag-purple">Gemini</span> ãŒã‚ãªãŸã®æ—…ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã™ã¹ã¦ã®AIè§£èª¬ã¯ã€Œèª­ã¿ä¸Šã’æ©Ÿèƒ½ã€ã§éŸ³å£°ã§èãã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>
      <ul>
        <li><strong>ğŸ“ æ­´å²ã‚¬ã‚¤ãƒ‰ (å³ä¸‹ã®ãƒœã‚¿ãƒ³):</strong> ç¾åœ¨åœ°ã®æ­´å²ã‚„ã€æ±Ÿæˆ¸æ™‚ä»£ã®å®¿å ´ç”ºã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’AIãŒè§£èª¬ã—ã€ãŠã™ã™ã‚ã‚¹ãƒãƒƒãƒˆã‚’5ã¤ææ¡ˆã—ã¾ã™ã€‚</li>
        <li><strong>ğŸ“· ä¾ã®ç›®ã§è¦‹ã‚‹ (ãƒ¡ãƒ‹ãƒ¥ãƒ¼):</strong> è¡—é“ã®å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€AIãŒãã®é¢¨æ™¯ã‚’è§£æã—ã€æ­´å²çš„ãªèƒŒæ™¯ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚</li>
      </ul>
      
      <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">
      
      <p><strong>ğŸ‘† åœ°å›³ã‹ã‚‰èª¿ã¹ã‚‹ (é•·æŠ¼ã—ãƒ»å³ã‚¯ãƒªãƒƒã‚¯)</strong></p>
      <p>
        åœ°å›³ä¸Šã®æ°—ã«ãªã£ãŸå ´æ‰€ã‚’ã€<strong>ã‚¹ãƒãƒ›ã®å ´åˆã¯é•·æŠ¼ã—ã€ãƒ‘ã‚½ã‚³ãƒ³ã®å ´åˆã¯å³ã‚¯ãƒªãƒƒã‚¯</strong>ã™ã‚‹ã¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã€ãã®å ´æ‰€ã«ã¤ã„ã¦AIã«èª¿ã¹ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>
        <small>â€» ä»Šã„ã‚‹å ´æ‰€ã ã‘ã§ãªãã€é ãé›¢ã‚ŒãŸç›®çš„åœ°ãªã©ã‚‚æŒ‡å®šå¯èƒ½ã§ã™ã€‚</small><br>
        <small>â€» è¨­å®šç”»é¢ã‹ã‚‰ã€AIæ¤œç´¢æ™‚ã®è©³ç´°æ¡ä»¶ï¼ˆä¾‹ï¼šè»Šæ¤…å­å¯¾å¿œã€äºˆç®—ãªã©ï¼‰ã‚’ã‚ã‚‰ã‹ã˜ã‚æŒ‡å®šã—ã¦ãŠãã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</small>
      </p>
      <ul>
          <li><span class="tag tag-blue">ğŸ¯ ä¾</span> : åœŸåœ°å‹˜ã®ã‚ã‚‹ä¾ã¨ã—ã¦ã€ãã®å ´æ‰€ã®æ­´å²ã‚„è¦‹ã©ã“ã‚ã‚’ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆã§è§£èª¬ã—ã¾ã™ã€‚</li>
          <li><span class="tag tag-pink">â™¨ï¸ æ¸©æ³‰</span> : å‘¨è¾ºã®æ—¥å¸°ã‚Šæ¸©æ³‰ã‚„åæ¹¯ã‚’æ¢ã—ã¦ææ¡ˆã—ã¾ã™ã€‚</li>
          <li><span class="tag tag-orange">ğŸ´ é£Ÿäº‹</span> : æ­©ãæ—…ã®ä¼‘æ†©ã«æœ€é©ãªã€åœ°å…ƒã®é£Ÿäº‹å‡¦ã‚„å¤ã„èŒ¶å±‹ã‚’æ¢ã—ã¦ææ¡ˆã—ã¾ã™ã€‚</li>
          <li><span class="tag tag-green">ğŸ” ã‚¹ãƒãƒƒãƒˆ</span> : å‘¨è¾ºã®è¦³å…‰åœ°ã‚„åæ‰€ãªã©ã€ç«‹ã¡å¯„ã‚‹ã¹ãã‚¹ãƒãƒƒãƒˆã‚’æ¢ã—ã¦ææ¡ˆã—ã¾ã™ã€‚</li>
      </ul>

      <p style="margin-top: 15px;"><small>â€»AIæ©Ÿèƒ½ã«ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒå¿…è¦ã§ã™ã€‚</small></p>
    </div>

    <div data-lang-content="en">
      <p>Powered by <span class="tag tag-purple">Gemini</span> AI to enhance your journey. All AI explanations can be read aloud using the speech function.</p>
      <ul>
        <li><strong>ğŸ“ History Guide (Bottom Right):</strong> The AI explains the history of your current location, focusing on the Edo period context, and suggests 5 recommended spots.</li>
        <li><strong>ğŸ“· Samurai Vision (Menu):</strong> Upload a photo of the scenery, and the AI will analyze it to provide historical context.</li>
      </ul>

      <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

      <p><strong>ğŸ‘† Ask from the Map (Long-press / Right-click)</strong></p>
      <p>
        <strong>Long-press on smartphones, or right-click on PCs</strong>, on any point on the map to open a menu and ask the AI about that specific location.<br>
        <small>* You can point to any location, not just your current position.</small><br>
        <small>* You can also pre-set specific conditions for AI searches (e.g., wheelchair accessible, budget) in the Settings menu.</small>
      </p>
      <ul>
          <li><span class="tag tag-blue">ğŸ¯ Samurai</span>: The Samurai will explain the history and highlights of that specific spot.</li>
          <li><span class="tag tag-pink">â™¨ï¸ Onsen</span>: Finds and suggests day-use hot springs and famous baths nearby.</li>
          <li><span class="tag tag-orange">ğŸ´ Food</span>: Finds and suggests local eateries and old teahouses perfect for a rest.</li>
          <li><span class="tag tag-green">ğŸ” Spot</span>: Finds and suggests places to visit, such as sightseeing spots and landmarks nearby.</li>
      </ul>

      <p style="margin-top: 15px;"><small>* Internet connection is required for AI features.</small></p>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">ğŸ—ºï¸</span> è¡—é“ã‚’æ¢ã™</h2>
    <h2 data-lang-content="en"><span class="icon">ğŸ—ºï¸</span> Find Routes</h2>
    
    <div data-lang-content="ja">
      <p>ç”»é¢ä¸‹ã®ã€Œæ¢ã™ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ä¸–ç•Œä¸­ã®è¡—é“ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
      <ul>
        <li>æ­©ããŸã„è¡—é“ã‚’é¸ã¶ã¨ã€åœ°å›³ä¸Šã« <span class="tag tag-red">èµ¤ç·š</span> ã§ãƒ«ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</li>
        <li>å³ä¸‹ã®ã€Œâ—ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€è‡ªåˆ†ã®ä½ç½®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>Tap the "Routes" button at the bottom to explore trails.</p>
      <ul>
        <li>Select a route to see the <span class="tag tag-red">Red Line</span> on the map.</li>
        <li>Tap the "â—" button on the bottom right to show your current location.</li>
      </ul>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">âºï¸</span> è¨˜éŒ²ã™ã‚‹ (GPS)</h2>
    <h2 data-lang-content="en"><span class="icon">âºï¸</span> Record (GPS)</h2>

    <div data-lang-content="ja">
      <p>ã‚ãªãŸã®æ­©ã„ãŸè»Œè·¡ã‚’è¨˜éŒ²ã§ãã¾ã™ã€‚</p>
      <ul>
        <li>ã€Œè¨˜éŒ²ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œè¨˜éŒ²é–‹å§‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚</li>
        <li>æ­©ã„ãŸé“ãŒ <span class="tag tag-blue">é’ç·š</span> ã§åœ°å›³ã«æã‹ã‚Œã¾ã™ã€‚</li>
        <li>ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‚‚è¨˜éŒ²ã¯ä¿å­˜ã•ã‚Œã¾ã™ãŒã€é•·æ™‚é–“ã®è¨˜éŒ²æ™‚ã¯ç”»é¢ã‚’æ¶ˆã•ãªã„ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ï¼ˆè¨­å®šã§ã€Œç”»é¢å¸¸æ™‚ç‚¹ç¯ã€å¯èƒ½ï¼‰ã€‚</li>
        <li>å·¦ä¸‹ã®æœˆã®ã‚¢ã‚¤ã‚³ãƒ³ã€ŒğŸŒ™ã€ã‚’æŠ¼ã™ã¨ã€èª¤æ“ä½œã‚’é˜²ãã¤ã¤ç”»é¢ã‚’ç‚¹ç¯ã—ç¶šã‘ã‚‹ã€Œãƒã‚±ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã€ã«ãªã‚Šã¾ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>You can record your own walking path.</p>
      <ul>
        <li>Go to the "Record" menu and tap "Start".</li>
        <li>Your track will be drawn as a <span class="tag tag-blue">Blue Line</span>.</li>
        <li>Recording works in the background, but keeping the screen on (via Settings) is recommended for long treks.</li>
        <li>Tap the moon icon "ğŸŒ™" on the bottom left to activate "Pocket Mode", which keeps the screen on while preventing accidental touches.</li>
      </ul>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">ğŸ’¾</span> ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»èª­è¾¼</h2>
    <h2 data-lang-content="en"><span class="icon">ğŸ’¾</span> Save & Load Data</h2>

    <div data-lang-content="ja">
      <p>è¨˜éŒ²ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯ã”è‡ªèº«ã®ç®¡ç†ä¸‹ã«ã‚ã‚Šã¾ã™ã€‚</p>
      <ul>
        <li><strong>GPXãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:</strong> è¨˜éŒ²ã—ãŸè»Œè·¡ã‚’ãƒ•ã‚¡ã‚¤ãƒ«(.gpx)ã¨ã—ã¦ã‚¹ãƒãƒ›ã‚„PCã«ä¿å­˜ã§ãã¾ã™ã€‚</li>
        <li><strong>GPXèª­è¾¼:</strong> éå»ã®ãƒ­ã‚°ã‚„ã€ä»–ã®ã‚¢ãƒ—ãƒªã§ä½œã£ãŸãƒ«ãƒ¼ãƒˆã‚’åœ°å›³ä¸Šã«è¡¨ç¤ºã§ãã¾ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>Your data belongs to you.</p>
      <ul>
        <li><strong>Download GPX:</strong> Save your recorded track as a .gpx file to your device.</li>
        <li><strong>Import GPX:</strong> Load past logs or external route files to view them on this map.</li>
      </ul>
    </div>
  </div>
  
  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">âœï¸</span> éŠã¶ãƒ»ä½œã‚‹</h2>
    <h2 data-lang-content="en"><span class="icon">âœï¸</span> Play & Create</h2>

    <div data-lang-content="ja">
      <p>å·¦ä¸Šã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆä¸‰æœ¬ç·šï¼‰ã‹ã‚‰ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚</p>
      <ul>
        <li><strong>ãƒ«ãƒ¼ãƒˆä½œæˆ:</strong> åœ°å›³ä¸Šã‚’ãªãã£ã¦è‡ªåˆ†ã ã‘ã®ãƒ«ãƒ¼ãƒˆï¼ˆGeoJSONï¼‰ã‚’ä½œæˆãƒ»ä¿å­˜ã§ãã¾ã™ã€‚</li>
        <li><strong>ãªãã‚Šã‚²ãƒ¼ãƒ :</strong> è¡—é“ã®å½¢ã‚’ã©ã‚Œã ã‘æ­£ç¢ºã«ãªãã‚Œã‚‹ã‹ã‚’ç«¶ã†ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ã§ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <p>Access the following features from the top-left menu (three lines).</p>
      <ul>
        <li><strong>Route Edit:</strong> Trace on the map to create and save your own routes (GeoJSON).</li>
        <li><strong>Trace Game:</strong> A mini-game to see how accurately you can trace the shape of historical routes.</li>
      </ul>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">ğŸ“</span> å ±å‘Šæ©Ÿèƒ½</h2>
    <h2 data-lang-content="en"><span class="icon">ğŸ“</span> Report</h2>

    <div data-lang-content="ja">
      <p>è¡—é“ã®çŠ¶æ³ï¼ˆé€šè¡Œæ­¢ã‚ã€ç´ æ™´ã‚‰ã—ã„æ™¯è‰²ã€ãƒˆã‚¤ãƒ¬ã®å ´æ‰€ãªã©ï¼‰ã‚’å ±å‘Šãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰é€ä¿¡ã§ãã¾ã™ã€‚ä½ç½®æƒ…å ±ãŒè‡ªå‹•çš„ã«æ·»ä»˜ã•ã‚Œã¾ã™ã€‚</p>
    </div>
    <div data-lang-content="en">
      <p>Use the "Report" feature to send updates about road conditions, scenery, or facilities. Your location is attached automatically.</p>
    </div>
  </div>

  <div class="card">
    <h2 data-lang-content="ja"><span class="icon">âš™ï¸</span> è¨­å®š</h2>
    <h2 data-lang-content="en"><span class="icon">âš™ï¸</span> Settings</h2>

    <div data-lang-content="ja">
      <ul>
        <li><strong>è¨€èª:</strong> æ—¥æœ¬èªã¨è‹±èªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚</li>
        <li><strong>æ¤œç´¢æ™‚ã®è©³ç´°æ¡ä»¶:</strong> ã“ã“ã«å…¥åŠ›ã—ãŸè¦æœ›ï¼ˆä¾‹ï¼šè»Šæ¤…å­å¯¾å¿œã€äºˆç®—1000å††ä»¥å†…ãªã©ï¼‰ã¯ã€AIãŒã‚¹ãƒãƒƒãƒˆã‚„é£Ÿäº‹ã‚’æ¢ã™éš›ã«å„ªå…ˆã—ã¦è€ƒæ…®ã•ã‚Œã¾ã™ã€‚</li>
        <li><strong>ç”»é¢å¸¸æ™‚ç‚¹ç¯:</strong> è¨˜éŒ²ä¸­ã«ã‚¹ãƒãƒ›ãŒã‚¹ãƒªãƒ¼ãƒ—ã™ã‚‹ã®ã‚’é˜²ãã¾ã™ï¼ˆãƒãƒƒãƒ†ãƒªãƒ¼æ¶ˆè²»ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼‰ã€‚</li>
        <li><strong>è‡ªå‹•èª­ã¿ä¸Šã’:</strong> ONã«ã™ã‚‹ã¨ã€AIã®è§£èª¬ãŒè¡¨ç¤ºã•ã‚ŒãŸéš›ã«è‡ªå‹•çš„ã«éŸ³å£°ã§èª­ã¿ä¸Šã’ã‚’é–‹å§‹ã—ã¾ã™ã€‚</li>
      </ul>
    </div>
    <div data-lang-content="en">
      <ul>
        <li><strong>Language:</strong> Switch between Japanese and English.</li>
        <li><strong>Search Conditions:</strong> Requests entered here (e.g., wheelchair accessible, under $10) will be prioritized by the AI when searching for spots or food.</li>
        <li><strong>Keep Screen On:</strong> Prevents the phone from sleeping while recording (Note: consumes more battery).</li>
        <li><strong>Auto Speech:</strong> When enabled, AI explanations will automatically be read aloud when displayed.</li>
      </ul>
    </div>
  </div>

  <a href="#" onclick="window.close()" class="btn-close">
    <span data-lang-content="ja">é–‰ã˜ã‚‹</span>
    <span data-lang-content="en">Close</span>
  </a>
</div>

<script>
  const STORAGE_KEY = 'kaido_lang';

  function applyLanguage(lang) {
    const safe = (lang === 'en') ? 'en' : 'ja';
    document.body.classList.remove('lang-ja', 'lang-en');
    document.body.classList.add('lang-' + safe);
    document.documentElement.lang = safe;
    try { localStorage.setItem(STORAGE_KEY, safe); } catch (_) {}
  }

  function toggleLang() {
    const current = document.body.classList.contains('lang-en') ? 'en' : 'ja';
    applyLanguage(current === 'ja' ? 'en' : 'ja');
  }

  // åˆæœŸè¡¨ç¤ºï¼šä¿å­˜å€¤ãŒã‚ã‚Œã°å„ªå…ˆ
  (function initLang() {
    let saved = 'ja';
    try { saved = localStorage.getItem(STORAGE_KEY) || 'ja'; } catch (_) {}
    applyLanguage(saved);
  })();

</script>
</body>
</html>